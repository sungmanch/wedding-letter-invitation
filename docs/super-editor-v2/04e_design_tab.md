# Super Editor v2 - ë””ìì¸ íƒ­ (3-Level ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œ)

> **ëª©í‘œ**: 3-Level í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œì„ ìœ„í•œ ì ì§„ì  ê³µê°œ UI
> **í•µì‹¬ ì›ì¹™**: ì´ˆë³´ìë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë‹¤ì–‘í•œ ìˆ˜ì¤€ ì§€ì›

---

## 1. êµ¬ì¡° ê°œìš”

| ë ˆë²¨ | UI ì»´í¬ë„ŒíŠ¸ | ëŒ€ìƒ | ë³µì¡ë„ |
|------|------------|------|--------|
| **Level 1** | PresetSelector | ì´ˆë³´ì | í”„ë¦¬ì…‹ ì„ íƒë§Œ |
| **Level 2** | QuickSettings | ì¤‘ê¸‰ì | ì£¼ìš” ê°’ ì¡°ì • |
| **Level 3** | AdvancedPanel | AI/ì „ë¬¸ê°€ | íŒ”ë ˆíŠ¸/í† í° ì§ì ‘ ì œì–´ |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë””ìì¸ íƒ­                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ¨ í…Œë§ˆ í”„ë¦¬ì…‹ (Level 1)         â”‚ â”‚
â”‚ â”‚ [ë¯¸ë‹ˆë©€] [í´ë˜ì‹] [ë¡œë§¨í‹±] ...   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš¡ ë¹ ë¥¸ ì„¤ì • (Level 2)           â”‚ â”‚
â”‚ â”‚ ë©”ì¸ ìƒ‰ìƒ: [â–  #FDFBF7]          â”‚ â”‚
â”‚ â”‚ í¬ì¸íŠ¸ ìƒ‰ìƒ: [â–  #C9A962]        â”‚ â”‚
â”‚ â”‚ ë¬´ë“œ: [ë”°ëœ»í•¨] [ì°¨ê°€ì›€] [ì¤‘ë¦½]   â”‚ â”‚
â”‚ â”‚ ëŒ€ë¹„: â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€               â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚ ğŸ“· ì‚¬ì§„ì—ì„œ ìƒ‰ìƒ ì¶”ì¶œ            â”‚ â”‚
â”‚ â”‚ [ë©”ì¸ ì‚¬ì§„ì—ì„œ ì¶”ì¶œí•˜ê¸°]         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”§ ê³ ê¸‰ ì„¤ì • (Level 3) [í¼ì¹˜ê¸°]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”¤ íƒ€ì´í¬ê·¸ë˜í”¼                  â”‚ â”‚
â”‚ â”‚ ì œëª© í°íŠ¸: [Playfair Display â–¼] â”‚ â”‚
â”‚ â”‚ ë³¸ë¬¸ í°íŠ¸: [Pretendard â–¼]       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âœ¨ ì• ë‹ˆë©”ì´ì…˜                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. DesignTab ì»´í¬ë„ŒíŠ¸

```typescript
interface DesignTabProps {
  style: StyleSystem
  animation: GlobalAnimation
  mainPhotoUrl?: string  // ì‚¬ì§„ íŒ”ë ˆíŠ¸ ì¶”ì¶œìš©
  onStyleChange: (style: StyleSystem) => void
  onAnimationChange: (animation: GlobalAnimation) => void
}

function DesignTab({
  style,
  animation,
  mainPhotoUrl,
  onStyleChange,
  onAnimationChange,
}: DesignTabProps) {
  const [activeLevel, setActiveLevel] = useState<1 | 2 | 3>(
    style.advanced ? 3 : style.quick ? 2 : 1
  )
  const [showAdvanced, setShowAdvanced] = useState(false)

  return (
    <div className="design-tab">
      {/* Level 1: í…Œë§ˆ í”„ë¦¬ì…‹ */}
      <section className="design-section">
        <h3>ğŸ¨ í…Œë§ˆ í”„ë¦¬ì…‹</h3>
        <PresetSelector
          selectedPreset={style.preset}
          onSelect={(presetId) => onStyleChange({
            ...style,
            preset: presetId,
            // í”„ë¦¬ì…‹ ë³€ê²½ ì‹œ quick/advanced ì´ˆê¸°í™” ì˜µì…˜
          })}
        />
      </section>

      {/* Level 2: ë¹ ë¥¸ ì„¤ì • */}
      <section className="design-section">
        <h3>âš¡ ë¹ ë¥¸ ì„¤ì •</h3>
        <QuickSettings
          quick={style.quick}
          mainPhotoUrl={mainPhotoUrl}
          onChange={(quick) => onStyleChange({ ...style, quick })}
        />
      </section>

      {/* Level 3: ê³ ê¸‰ ì„¤ì • (ì ‘ê¸°/í¼ì¹˜ê¸°) */}
      <Disclosure open={showAdvanced} onOpenChange={setShowAdvanced}>
        <DisclosureTrigger className="design-section-header">
          <h3>ğŸ”§ ê³ ê¸‰ ì„¤ì •</h3>
          <ChevronIcon direction={showAdvanced ? 'up' : 'down'} />
        </DisclosureTrigger>
        <DisclosureContent>
          <AdvancedPanel
            advanced={style.advanced}
            basePreset={style.preset}
            onChange={(advanced) => onStyleChange({ ...style, advanced })}
          />
        </DisclosureContent>
      </Disclosure>

      {/* íƒ€ì´í¬ê·¸ë˜í”¼ */}
      <section className="design-section">
        <h3>ğŸ”¤ íƒ€ì´í¬ê·¸ë˜í”¼</h3>
        <TypographySettings
          typography={style.typography}
          onChange={(typography) => onStyleChange({ ...style, typography })}
        />
      </section>

      {/* ì´í™íŠ¸ */}
      <section className="design-section">
        <h3>âœ¨ ì´í™íŠ¸</h3>
        <EffectsSettings
          effects={style.effects}
          onChange={(effects) => onStyleChange({ ...style, effects })}
        />
      </section>

      {/* ì• ë‹ˆë©”ì´ì…˜ */}
      <section className="design-section">
        <h3>ğŸ¬ ì• ë‹ˆë©”ì´ì…˜</h3>
        <AnimationSettings
          animation={animation}
          onChange={onAnimationChange}
        />
      </section>
    </div>
  )
}
```

---

## 3. Level 1: PresetSelector

```typescript
interface PresetSelectorProps {
  selectedPreset?: ThemePresetId
  onSelect: (presetId: ThemePresetId) => void
}

function PresetSelector({ selectedPreset, onSelect }: PresetSelectorProps) {
  // ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í™”
  const categories = [
    { id: 'basic', label: 'ê¸°ë³¸', presets: ['minimal-light', 'minimal-dark'] },
    { id: 'classic', label: 'í´ë˜ì‹', presets: ['classic-ivory', 'classic-gold'] },
    { id: 'modern', label: 'ëª¨ë˜', presets: ['modern-mono', 'modern-contrast'] },
    { id: 'romantic', label: 'ë¡œë§¨í‹±', presets: ['romantic-blush', 'romantic-garden'] },
    { id: 'cinematic', label: 'ì‹œë„¤ë§ˆí‹±', presets: ['cinematic-dark', 'cinematic-warm'] },
    { id: 'special', label: 'íŠ¹ìˆ˜', presets: ['photo-adaptive', 'duotone', 'gradient-hero'] },
  ]

  return (
    <div className="preset-selector">
      {categories.map(category => (
        <div key={category.id} className="preset-category">
          <span className="category-label">{category.label}</span>
          <div className="preset-grid">
            {category.presets.map(presetId => {
              const preset = THEME_PRESETS[presetId as ThemePresetId]
              return (
                <button
                  key={presetId}
                  onClick={() => onSelect(presetId as ThemePresetId)}
                  className={cn(
                    'preset-card',
                    selectedPreset === presetId && 'selected'
                  )}
                >
                  <div
                    className="preset-preview"
                    style={{
                      background: preset.tokens['bg-page'],
                      borderColor: preset.tokens['accent-default'],
                    }}
                  >
                    <div
                      className="preview-accent"
                      style={{ background: preset.tokens['accent-default'] }}
                    />
                  </div>
                  <span className="preset-name">{preset.name}</span>
                </button>
              )
            })}
          </div>
        </div>
      ))}
    </div>
  )
}
```

---

## 4. Level 2: QuickSettings

```typescript
interface QuickSettingsProps {
  quick?: QuickStyleConfig
  mainPhotoUrl?: string
  onChange: (quick: QuickStyleConfig) => void
}

function QuickSettings({ quick = {}, mainPhotoUrl, onChange }: QuickSettingsProps) {
  const [isExtracting, setIsExtracting] = useState(false)
  const [extractedPalette, setExtractedPalette] = useState<ExtractedPalette | null>(null)

  // ì‚¬ì§„ì—ì„œ íŒ”ë ˆíŠ¸ ì¶”ì¶œ
  const handleExtractFromPhoto = async () => {
    if (!mainPhotoUrl) return

    setIsExtracting(true)
    try {
      const palette = await extractPaletteOptimized(mainPhotoUrl, {
        extraction: {
          algorithm: 'kmeans',
          colorCount: 6,
          optimization: {
            resizeWidth: 100,
            resizeHeight: 100,
            maxIterations: 10,
            convergenceThreshold: 0.01,
          },
        },
        mapping: {
          dominant: quick.photoExtraction?.mapping?.dominant || 'most-common',
          accent: quick.photoExtraction?.mapping?.accent || 'complementary',
          text: 'auto-contrast',
        },
      })

      setExtractedPalette(palette)

      // ì¶”ì¶œëœ ìƒ‰ìƒìœ¼ë¡œ quick ì„¤ì • ì—…ë°ì´íŠ¸
      onChange({
        ...quick,
        dominantColor: palette.mappedTokens['bg-page'],
        accentColor: palette.mappedTokens['accent-default'],
        photoExtraction: {
          enabled: true,
          source: 'photos.main',
          mapping: {
            dominant: 'most-common',
            accent: 'complementary',
          },
        },
      })
    } finally {
      setIsExtracting(false)
    }
  }

  return (
    <div className="quick-settings">
      {/* ìƒ‰ìƒ ì„¤ì • */}
      <div className="setting-group">
        <label>ë©”ì¸ ìƒ‰ìƒ</label>
        <ColorPicker
          value={quick.dominantColor}
          onChange={(color) => onChange({ ...quick, dominantColor: color })}
          presets={COLOR_PRESETS.dominant}
        />
      </div>

      <div className="setting-group">
        <label>í¬ì¸íŠ¸ ìƒ‰ìƒ</label>
        <ColorPicker
          value={quick.accentColor}
          onChange={(color) => onChange({ ...quick, accentColor: color })}
          presets={COLOR_PRESETS.accent}
        />
      </div>

      {/* ë¬´ë“œ ì„¤ì • */}
      <div className="setting-group">
        <label>ë¬´ë“œ</label>
        <SegmentedControl
          value={quick.mood || 'neutral'}
          options={[
            { value: 'warm', label: 'ë”°ëœ»í•¨' },
            { value: 'neutral', label: 'ì¤‘ë¦½' },
            { value: 'cool', label: 'ì°¨ê°€ì›€' },
          ]}
          onChange={(mood) => onChange({ ...quick, mood: mood as QuickStyleConfig['mood'] })}
        />
      </div>

      {/* ëŒ€ë¹„ ì„¤ì • */}
      <div className="setting-group">
        <label>ëŒ€ë¹„</label>
        <SegmentedControl
          value={quick.contrast || 'medium'}
          options={[
            { value: 'low', label: 'ë‚®ìŒ' },
            { value: 'medium', label: 'ë³´í†µ' },
            { value: 'high', label: 'ë†’ìŒ' },
          ]}
          onChange={(contrast) => onChange({ ...quick, contrast: contrast as QuickStyleConfig['contrast'] })}
        />
      </div>

      {/* ì±„ë„ ì„¤ì • */}
      <div className="setting-group">
        <label>ì±„ë„</label>
        <SegmentedControl
          value={quick.saturation || 'normal'}
          options={[
            { value: 'muted', label: 'ì°¨ë¶„í•¨' },
            { value: 'normal', label: 'ë³´í†µ' },
            { value: 'vivid', label: 'ì„ ëª…í•¨' },
          ]}
          onChange={(saturation) => onChange({ ...quick, saturation: saturation as QuickStyleConfig['saturation'] })}
        />
      </div>

      {/* ì‚¬ì§„ íŒ”ë ˆíŠ¸ ì¶”ì¶œ */}
      {mainPhotoUrl && (
        <div className="photo-extraction">
          <div className="extraction-header">
            <label>ğŸ“· ì‚¬ì§„ì—ì„œ ìƒ‰ìƒ ì¶”ì¶œ</label>
            <Button
              onClick={handleExtractFromPhoto}
              disabled={isExtracting}
              variant="outline"
              size="sm"
            >
              {isExtracting ? 'ì¶”ì¶œ ì¤‘...' : 'ì¶”ì¶œí•˜ê¸°'}
            </Button>
          </div>

          {/* ì¶”ì¶œëœ íŒ”ë ˆíŠ¸ ë¯¸ë¦¬ë³´ê¸° */}
          {extractedPalette && (
            <ExtractedPalettePreview
              palette={extractedPalette}
              onApply={(mappedTokens) => {
                onChange({
                  ...quick,
                  dominantColor: mappedTokens['bg-page'],
                  accentColor: mappedTokens['accent-default'],
                })
              }}
            />
          )}

          {/* ì¶”ì¶œ ì˜µì…˜ */}
          {quick.photoExtraction?.enabled && (
            <div className="extraction-options">
              <div className="setting-group">
                <label>ë©”ì¸ ìƒ‰ìƒ ì„ íƒ ê¸°ì¤€</label>
                <Select
                  value={quick.photoExtraction.mapping.dominant}
                  onChange={(value) => onChange({
                    ...quick,
                    photoExtraction: {
                      ...quick.photoExtraction!,
                      mapping: {
                        ...quick.photoExtraction!.mapping,
                        dominant: value as any,
                      },
                    },
                  })}
                >
                  <SelectOption value="most-common">ê°€ì¥ ë§ì€ ìƒ‰ìƒ</SelectOption>
                  <SelectOption value="most-saturated">ê°€ì¥ ì„ ëª…í•œ ìƒ‰ìƒ</SelectOption>
                  <SelectOption value="lightest">ê°€ì¥ ë°ì€ ìƒ‰ìƒ</SelectOption>
                  <SelectOption value="darkest">ê°€ì¥ ì–´ë‘ìš´ ìƒ‰ìƒ</SelectOption>
                </Select>
              </div>

              {/* ì¡°ì • ìŠ¬ë¼ì´ë” */}
              <div className="adjustment-sliders">
                <SliderField
                  label="ì±„ë„ ì¡°ì •"
                  value={quick.photoExtraction.adjustments?.saturation || 0}
                  min={-100}
                  max={100}
                  onChange={(value) => onChange({
                    ...quick,
                    photoExtraction: {
                      ...quick.photoExtraction!,
                      adjustments: {
                        ...quick.photoExtraction!.adjustments,
                        saturation: value,
                      },
                    },
                  })}
                />
                <SliderField
                  label="ë°ê¸° ì¡°ì •"
                  value={quick.photoExtraction.adjustments?.brightness || 0}
                  min={-100}
                  max={100}
                  onChange={(value) => onChange({
                    ...quick,
                    photoExtraction: {
                      ...quick.photoExtraction!,
                      adjustments: {
                        ...quick.photoExtraction!.adjustments,
                        brightness: value,
                      },
                    },
                  })}
                />
              </div>
            </div>
          )}
        </div>
      )}
    </div>
  )
}
```

---

## 5. ì¶”ì¶œëœ íŒ”ë ˆíŠ¸ ë¯¸ë¦¬ë³´ê¸°

```typescript
interface ExtractedPalettePreviewProps {
  palette: ExtractedPalette
  onApply: (tokens: Partial<SemanticTokens>) => void
}

function ExtractedPalettePreview({ palette, onApply }: ExtractedPalettePreviewProps) {
  return (
    <div className="extracted-palette-preview">
      {/* ì¶”ì¶œëœ ìƒ‰ìƒ ìŠ¤ì™€ì¹˜ */}
      <div className="color-swatches">
        {palette.colors.slice(0, 6).map((color, i) => (
          <div
            key={i}
            className="color-swatch"
            style={{ background: color.hex }}
            title={`${color.hex} (${(color.population * 100).toFixed(1)}%)`}
          >
            <span className="population">{(color.population * 100).toFixed(0)}%</span>
          </div>
        ))}
      </div>

      {/* ëŒ€ë¹„ ê²€ì¦ ê²°ê³¼ */}
      <div className="contrast-validation">
        {palette.contrastValidation.passesAA ? (
          <span className="validation-pass">âœ“ WCAG AA ì¶©ì¡±</span>
        ) : (
          <span className="validation-fail">
            âš  ëŒ€ë¹„ ë¶€ì¡±
            <Tooltip content={palette.contrastValidation.suggestions?.join('\n')}>
              <InfoIcon />
            </Tooltip>
          </span>
        )}
      </div>

      {/* ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ */}
      <div
        className="preview-card"
        style={{
          background: palette.mappedTokens['bg-page'],
          color: palette.mappedTokens['fg-default'],
        }}
      >
        <h4 style={{ color: palette.mappedTokens['fg-emphasis'] }}>ë¯¸ë¦¬ë³´ê¸°</h4>
        <p style={{ color: palette.mappedTokens['fg-muted'] }}>
          ì¶”ì¶œëœ ìƒ‰ìƒì´ ì ìš©ëœ ëª¨ìŠµì…ë‹ˆë‹¤.
        </p>
        <button
          style={{
            background: palette.mappedTokens['accent-default'],
            color: palette.mappedTokens['fg-on-accent'] || '#fff',
          }}
        >
          ì•¡ì…˜ ë²„íŠ¼
        </button>
      </div>

      {/* ì ìš© ë²„íŠ¼ */}
      <Button onClick={() => onApply(palette.mappedTokens)}>
        ì´ ìƒ‰ìƒ ì ìš©í•˜ê¸°
      </Button>

      {/* ì²˜ë¦¬ ì‹œê°„ */}
      <span className="processing-time">
        {palette.meta.processingTime.toFixed(0)}ms
      </span>
    </div>
  )
}
```

---

## 6. Level 3: AdvancedPanel

```typescript
interface AdvancedPanelProps {
  advanced?: AdvancedStyleConfig
  basePreset?: ThemePresetId
  onChange: (advanced: AdvancedStyleConfig) => void
}

function AdvancedPanel({ advanced, basePreset, onChange }: AdvancedPanelProps) {
  // í”„ë¦¬ì…‹ ê¸°ë°˜ ê¸°ë³¸ê°’
  const baseTokens = basePreset
    ? THEME_PRESETS[basePreset].tokens
    : DEFAULT_TOKENS

  const currentTokens = advanced?.tokens || baseTokens
  const currentPalette = advanced?.palette || []

  return (
    <div className="advanced-panel">
      {/* ê²½ê³  ë©”ì‹œì§€ */}
      <div className="advanced-warning">
        <InfoIcon />
        <span>ê³ ê¸‰ ì„¤ì •ì„ ë³€ê²½í•˜ë©´ í”„ë¦¬ì…‹ê³¼ ë¹ ë¥¸ ì„¤ì •ì´ ë¬´ì‹œë©ë‹ˆë‹¤.</span>
      </div>

      {/* íŒ”ë ˆíŠ¸ í¸ì§‘ */}
      <div className="palette-editor">
        <h4>íŒ”ë ˆíŠ¸</h4>
        <p className="description">ì›ì‹œ ìƒ‰ìƒ ì •ì˜. ì‹œë§¨í‹± í† í°ì—ì„œ ì°¸ì¡°ë©ë‹ˆë‹¤.</p>

        {currentPalette.map((color, i) => (
          <PaletteColorEditor
            key={color.id}
            color={color}
            onChange={(updated) => {
              const newPalette = [...currentPalette]
              newPalette[i] = updated
              onChange({ ...advanced!, palette: newPalette })
            }}
            onRemove={() => {
              const newPalette = currentPalette.filter((_, idx) => idx !== i)
              onChange({ ...advanced!, palette: newPalette })
            }}
          />
        ))}

        <Button
          variant="outline"
          onClick={() => {
            const newColor: PaletteColor = {
              id: `color-${Date.now()}`,
              value: '#888888',
            }
            onChange({
              ...advanced!,
              palette: [...currentPalette, newColor],
            })
          }}
        >
          + ìƒ‰ìƒ ì¶”ê°€
        </Button>
      </div>

      {/* ì‹œë§¨í‹± í† í° í¸ì§‘ */}
      <div className="tokens-editor">
        <h4>ì‹œë§¨í‹± í† í°</h4>
        <p className="description">ì—­í• ë³„ ìƒ‰ìƒ ë§¤í•‘. ì»´í¬ë„ŒíŠ¸ê°€ ì´ í† í°ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.</p>

        <Tabs defaultValue="background">
          <TabList>
            <Tab value="background">ë°°ê²½</Tab>
            <Tab value="foreground">ì „ê²½</Tab>
            <Tab value="accent">ê°•ì¡°</Tab>
            <Tab value="border">ë³´ë”</Tab>
          </TabList>

          <TabContent value="background">
            <TokenGroup
              tokens={['bg-page', 'bg-section', 'bg-section-alt', 'bg-card', 'bg-overlay']}
              values={currentTokens}
              onChange={(key, value) => {
                onChange({
                  ...advanced!,
                  tokens: { ...currentTokens, [key]: value },
                })
              }}
            />
          </TabContent>

          <TabContent value="foreground">
            <TokenGroup
              tokens={['fg-default', 'fg-muted', 'fg-emphasis', 'fg-inverse', 'fg-on-accent']}
              values={currentTokens}
              onChange={(key, value) => {
                onChange({
                  ...advanced!,
                  tokens: { ...currentTokens, [key]: value },
                })
              }}
            />
          </TabContent>

          <TabContent value="accent">
            <TokenGroup
              tokens={['accent-default', 'accent-hover', 'accent-active', 'accent-secondary']}
              values={currentTokens}
              onChange={(key, value) => {
                onChange({
                  ...advanced!,
                  tokens: { ...currentTokens, [key]: value },
                })
              }}
            />
          </TabContent>

          <TabContent value="border">
            <TokenGroup
              tokens={['border-default', 'border-emphasis', 'border-muted']}
              values={currentTokens}
              onChange={(key, value) => {
                onChange({
                  ...advanced!,
                  tokens: { ...currentTokens, [key]: value },
                })
              }}
            />
          </TabContent>
        </Tabs>
      </div>

      {/* ê·¸ë¼ë°ì´ì…˜ í† í° */}
      <div className="gradient-tokens">
        <h4>ê·¸ë¼ë°ì´ì…˜</h4>
        <GradientEditor
          label="Hero ê·¸ë¼ë°ì´ì…˜"
          value={currentTokens['gradient-hero']}
          onChange={(gradient) => {
            onChange({
              ...advanced!,
              tokens: { ...currentTokens, 'gradient-hero': gradient },
            })
          }}
        />
        <GradientEditor
          label="Accent ê·¸ë¼ë°ì´ì…˜"
          value={currentTokens['gradient-accent']}
          onChange={(gradient) => {
            onChange({
              ...advanced!,
              tokens: { ...currentTokens, 'gradient-accent': gradient },
            })
          }}
        />
      </div>

      {/* ë¸”ë¡ë³„ ì˜¤ë²„ë¼ì´ë“œ */}
      <div className="block-overrides">
        <h4>ë¸”ë¡ë³„ í…Œë§ˆ</h4>
        <p className="description">íŠ¹ì • ë¸”ë¡ì˜ í…Œë§ˆë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.</p>

        <BlockOverrideList
          overrides={advanced?.blockOverrides || {}}
          onChange={(blockOverrides) => {
            onChange({ ...advanced!, blockOverrides })
          }}
        />
      </div>

      {/* ì´ˆê¸°í™” ë²„íŠ¼ */}
      <div className="advanced-actions">
        <Button
          variant="outline"
          onClick={() => {
            if (confirm('ê³ ê¸‰ ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
              onChange(undefined as any)
            }
          }}
        >
          í”„ë¦¬ì…‹ìœ¼ë¡œ ì´ˆê¸°í™”
        </Button>
      </div>
    </div>
  )
}
```

---

## 7. TokenGroup ì»´í¬ë„ŒíŠ¸

```typescript
interface TokenGroupProps {
  tokens: string[]
  values: SemanticTokens
  onChange: (key: string, value: string | GradientValue) => void
}

const TOKEN_LABELS: Record<string, string> = {
  'bg-page': 'í˜ì´ì§€ ë°°ê²½',
  'bg-section': 'ì„¹ì…˜ ë°°ê²½',
  'bg-section-alt': 'ëŒ€ì²´ ì„¹ì…˜ ë°°ê²½',
  'bg-card': 'ì¹´ë“œ ë°°ê²½',
  'bg-overlay': 'ì˜¤ë²„ë ˆì´',
  'fg-default': 'ê¸°ë³¸ í…ìŠ¤íŠ¸',
  'fg-muted': 'ë³´ì¡° í…ìŠ¤íŠ¸',
  'fg-emphasis': 'ê°•ì¡° í…ìŠ¤íŠ¸',
  'fg-inverse': 'ë°˜ì „ í…ìŠ¤íŠ¸',
  'fg-on-accent': 'ì•¡ì„¼íŠ¸ ìœ„ í…ìŠ¤íŠ¸',
  'accent-default': 'ê¸°ë³¸ ì•¡ì„¼íŠ¸',
  'accent-hover': 'í˜¸ë²„ ì•¡ì„¼íŠ¸',
  'accent-active': 'í™œì„± ì•¡ì„¼íŠ¸',
  'accent-secondary': 'ë³´ì¡° ì•¡ì„¼íŠ¸',
  'border-default': 'ê¸°ë³¸ ë³´ë”',
  'border-emphasis': 'ê°•ì¡° ë³´ë”',
  'border-muted': 'ë³´ì¡° ë³´ë”',
}

function TokenGroup({ tokens, values, onChange }: TokenGroupProps) {
  return (
    <div className="token-group">
      {tokens.map(token => (
        <div key={token} className="token-row">
          <label>{TOKEN_LABELS[token] || token}</label>
          <ColorPicker
            value={values[token as keyof SemanticTokens] as string}
            onChange={(color) => onChange(token, color)}
            showGradient={token.includes('gradient')}
          />
        </div>
      ))}
    </div>
  )
}
```

---

## 8. GradientEditor ì»´í¬ë„ŒíŠ¸

```typescript
interface GradientEditorProps {
  label: string
  value?: GradientValue
  onChange: (gradient: GradientValue | undefined) => void
}

function GradientEditor({ label, value, onChange }: GradientEditorProps) {
  const [enabled, setEnabled] = useState(!!value)

  const handleToggle = (checked: boolean) => {
    setEnabled(checked)
    if (!checked) {
      onChange(undefined)
    } else {
      onChange({
        type: 'linear',
        angle: 180,
        stops: [
          { color: '#000000', position: 0 },
          { color: '#ffffff', position: 100 },
        ],
      })
    }
  }

  return (
    <div className="gradient-editor">
      <div className="gradient-header">
        <label>{label}</label>
        <Toggle checked={enabled} onChange={handleToggle} />
      </div>

      {enabled && value && (
        <div className="gradient-controls">
          {/* íƒ€ì… ì„ íƒ */}
          <Select
            value={value.type}
            onChange={(type) => onChange({ ...value, type: type as GradientValue['type'] })}
          >
            <SelectOption value="linear">ì„ í˜•</SelectOption>
            <SelectOption value="radial">ë°©ì‚¬í˜•</SelectOption>
            <SelectOption value="conic">ì›ë¿”í˜•</SelectOption>
          </Select>

          {/* ê°ë„ (linearë§Œ) */}
          {value.type === 'linear' && (
            <SliderField
              label="ê°ë„"
              value={value.angle || 180}
              min={0}
              max={360}
              onChange={(angle) => onChange({ ...value, angle })}
            />
          )}

          {/* ê·¸ë¼ë°ì´ì…˜ ìŠ¤í†± */}
          <div className="gradient-stops">
            {value.stops.map((stop, i) => (
              <div key={i} className="stop-row">
                <ColorPicker
                  value={stop.color}
                  onChange={(color) => {
                    const newStops = [...value.stops]
                    newStops[i] = { ...stop, color }
                    onChange({ ...value, stops: newStops })
                  }}
                />
                <SliderField
                  label="ìœ„ì¹˜"
                  value={stop.position}
                  min={0}
                  max={100}
                  onChange={(position) => {
                    const newStops = [...value.stops]
                    newStops[i] = { ...stop, position }
                    onChange({ ...value, stops: newStops })
                  }}
                />
                {value.stops.length > 2 && (
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => {
                      const newStops = value.stops.filter((_, idx) => idx !== i)
                      onChange({ ...value, stops: newStops })
                    }}
                  >
                    âœ•
                  </Button>
                )}
              </div>
            ))}
            <Button
              variant="outline"
              size="sm"
              onClick={() => {
                const newStops = [
                  ...value.stops,
                  { color: '#888888', position: 50 },
                ]
                onChange({ ...value, stops: newStops })
              }}
            >
              + ìŠ¤í†± ì¶”ê°€
            </Button>
          </div>

          {/* ë¯¸ë¦¬ë³´ê¸° */}
          <div
            className="gradient-preview"
            style={{ background: gradientToCSS(value) }}
          />
        </div>
      )}
    </div>
  )
}
```

---

## 9. TypographySettings

```typescript
interface TypographySettingsProps {
  typography: TypographyConfig
  onChange: (typography: TypographyConfig) => void
}

function TypographySettings({ typography, onChange }: TypographySettingsProps) {
  return (
    <div className="typography-settings">
      {/* í”„ë¦¬ì…‹ ì„ íƒ */}
      <div className="setting-group">
        <label>í°íŠ¸ í”„ë¦¬ì…‹</label>
        <Select
          value={typography.preset || 'custom'}
          onChange={(preset) => {
            if (preset === 'custom') {
              onChange({ ...typography, preset: undefined })
            } else {
              onChange({ preset: preset as TypographyPresetId })
            }
          }}
        >
          <SelectOption value="elegant-serif">ìš°ì•„í•œ ì„¸ë¦¬í”„</SelectOption>
          <SelectOption value="modern-sans">ëª¨ë˜ ì‚°ì„¸ë¦¬í”„</SelectOption>
          <SelectOption value="handwritten-romantic">ë¡œë§¨í‹± ì†ê¸€ì”¨</SelectOption>
          <SelectOption value="minimal-clean">ë¯¸ë‹ˆë©€ í´ë¦°</SelectOption>
          <SelectOption value="custom">ì§ì ‘ ì„¤ì •</SelectOption>
        </Select>
      </div>

      {/* ì»¤ìŠ¤í…€ ì„¤ì • */}
      {!typography.preset && (
        <>
          <div className="setting-group">
            <label>ì œëª© í°íŠ¸</label>
            <FontSelector
              value={typography.custom?.fontStacks?.heading}
              onChange={(fontStack) => onChange({
                ...typography,
                custom: {
                  ...typography.custom!,
                  fontStacks: {
                    ...typography.custom?.fontStacks,
                    heading: fontStack,
                  },
                },
              })}
            />
          </div>

          <div className="setting-group">
            <label>ë³¸ë¬¸ í°íŠ¸</label>
            <FontSelector
              value={typography.custom?.fontStacks?.body}
              onChange={(fontStack) => onChange({
                ...typography,
                custom: {
                  ...typography.custom!,
                  fontStacks: {
                    ...typography.custom?.fontStacks,
                    body: fontStack,
                  },
                },
              })}
            />
          </div>
        </>
      )}
    </div>
  )
}
```

---

## 10. ìƒ‰ìƒ í”„ë¦¬ì…‹

```typescript
const COLOR_PRESETS = {
  dominant: [
    { value: '#FDFBF7', label: 'ì•„ì´ë³´ë¦¬' },
    { value: '#FFFFFF', label: 'í™”ì´íŠ¸' },
    { value: '#1A1A1A', label: 'ë¸”ë™' },
    { value: '#F5F0E8', label: 'í¬ë¦¼' },
    { value: '#E8E4DD', label: 'ë² ì´ì§€' },
    { value: '#2C3E50', label: 'ë„¤ì´ë¹„' },
  ],
  accent: [
    { value: '#C9A962', label: 'ê³¨ë“œ' },
    { value: '#8B7355', label: 'ë¸Œë¼ìš´' },
    { value: '#B76E79', label: 'ë¡œì¦ˆ' },
    { value: '#6B8E6B', label: 'ì„¸ì´ì§€' },
    { value: '#7B9BAB', label: 'ìŠ¤í‹¸ë¸”ë£¨' },
    { value: '#9B8AA3', label: 'ë¼ë²¤ë”' },
  ],
}
```

---

## 11. ê´€ë ¨ ë¬¸ì„œ

| ë¬¸ì„œ | ë‚´ìš© |
|------|------|
| [01b_style_system.md](./01b_style_system.md) | 3-Level ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œ |
| [04a_layout_tabs.md](./04a_layout_tabs.md) | ì—ë””í„° ë ˆì´ì•„ì›ƒ |
| [07_typography_system.md](./07_typography_system.md) | íƒ€ì´í¬ê·¸ë˜í”¼ ì‹œìŠ¤í…œ |
